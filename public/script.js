/*
 @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js classie v1.0.1
 class helper functions
 from bonzo https://github.com/ded/bonzo
 MIT license
*/
function nowLoading(){var a=document.getElementById("loading");void 0===nowLoading.count?(nowLoading.count=0,resetLoadingText(a),a.setAttribute("style","visibility: visible")):3==nowLoading.count?resetLoadingText(a):(a.innerText+=".",nowLoading.count++)}function beginLoading(){clearTimeout(intrvl);intrvl=setInterval(nowLoading,1E3)}function resetLoadingText(a){a.innerText="Loading"}
function errorLoading(){var a=document.getElementById("loading");a.setAttribute("style","visibility: visible");a.innerText="Error!"}function endLoading(){var a=document.getElementById("loading");nowLoading.count=void 0;a.setAttribute("style","visibility: hidden");clearTimeout(intrvl)}function fbReload(){try{FB.XFBML.parse()}catch(a){}}
function getElementsByClassName(a,b){if(a.getElementsByClassName)return a.getElementsByClassName(b);var c=a;null==c&&(c=document);var h=[],c=c.getElementsByTagName("*"),f=c.length,e=new RegExp("(^|\\s)"+b+"(\\s|$)"),d,g;for(g=d=0;d<f;d++)e.test(c[d].className)&&(h[g]=c[d],g++);return h}function supportsSvg(){var a=document.createElement("div");a.innerHTML="<svg/>";return"http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)}function loadCanvasI(a){loadCanvasH(this);return!1}
function loadCanvasH(a){var b=a.getAttribute("data-target");URLid="root"==b?"":b;loadCanvas(b,a.getAttribute("data-title"));window.history.pushState({id:b,title:a.getAttribute("data-title")},"","/"+URLid);"undefined"!==typeof ga&&(ga("set","page","/"+URLid),ga("send","pageview"))}
function loadCanvas(a,b){document.getElementById("updated");var c=document.getElementById("canvas-main"),h=document.getElementById("main-wrapper");classie.add(h,"hide_path_title_updated");classie.add(c,"hide");var f=(new Date).getTime();syncScrollReload.startTime=null;scrollTop();beginLoading();var e=new XMLHttpRequest,e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(4==e.readyState&&a===gTarget){var d=document.getElementById("canvas-main");
switch(e.status){case 200:endLoading();d=JSON.parse(e.responseText);document.title=d.desc+" - "+PROJECT_TITLE;"root"==a?(document.getElementById("path").innerHTML="&nbsp;",document.getElementById("title").innerHTML="&nbsp;",classie.add(document.getElementById("title"),"hide_scale")):(document.getElementById("path").innerHTML=d.path,document.getElementById("title").innerHTML=b);syncScrollReload(f,d,a);break;case 404:document.getElementById("date").innerHTML="";d.innerHTML="Error: 404 - Resource not found!";
break;case 408:case 501:case 502:document.getElementById("date").innerHTML="",d.innerHTML="Error!",errorLoading()}}};gTarget=a;e.open("GET","/"+a+".json",!0);e.setRequestHeader("Content-Type","text/plain;charset=UTF-8");e.send()}function scrollTop(){scrollActive=!0;var a=window.scrollY,b=setInterval(function(){window.scrollTo(0,a);0>=a?(clearInterval(b),scrollActive=!1,syncScrollReload()):a-=100},10)}var scrollActive;
function syncScrollReload(a,b,c){"undefined"!=typeof a&&(syncScrollReload.startTime=a,syncScrollReload.resp=b,syncScrollReload.target=c);"undefined"==typeof syncScrollReload.startTime||null==syncScrollReload.startTime||scrollActive||executeReload(syncScrollReload.startTime,syncScrollReload.resp,syncScrollReload.target)}
function executeReload(a,b,c){"undefined"!=typeof reloadTimeout&&clearTimeout(reloadTimeout);reloadTimeout=setTimeout(function(){var a=document.getElementById("canvas-main"),f=document.getElementById("main-wrapper");content.innerHTML=b.content;classie.remove(a,"hide");document.getElementById("date").innerHTML=b.date;""==!URLid&&classie.remove(f,"hide_path_title_updated");a=document.getElementById("canvas-main").scrollHeight;document.getElementById("nav-menu").style.maxHeight=a+"px";document.getElementById("canvas-main").style.maxHeight=
null;"1"==b.xurl&&setXURL(document);"1"==b.async&&initPageFunction(c);fbReload()},getTimeOutDuration((new Date).getTime()-a))}function getTimeOutDuration(a){if(transitionFromMenu)return transitionFromMenu=!1,0;timeout=350-a;return 0>timeout?0:timeout}
"undefined"===typeof document||"classList"in document.createElement("a")||function(a){a=(a.HTMLElement||a.Element).prototype;var b=Object,c=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array.prototype.indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1},f=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},e=function(a,b){if(""===b)throw new f("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new f("INVALID_CHARACTER_ERR",
"String contains an invalid character");return h.call(a,b)},d=function(a){for(var b=c.call(a.className),b=b?b.split(/\s+/):[],d=0,g=b.length;d<g;d++)this.push(b[d]);this._updateClassName=function(){a.className=this.toString()}},g=d.prototype=[],k=function(){return new d(this)};f.prototype=Error.prototype;g.item=function(a){return this[a]||null};g.contains=function(a){return-1!==e(this,a+"")};g.add=function(a){a+="";-1===e(this,a)&&(this.push(a),this._updateClassName())};g.remove=function(a){a=e(this,
a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};g.toggle=function(a){a+="";-1===e(this,a)?this.add(a):this.remove(a)};g.toString=function(){return this.join(" ")};if(b.defineProperty){g={get:k,enumerable:!0,configurable:!0};try{b.defineProperty(a,"classList",g)}catch(l){-2146823252===l.number&&(g.enumerable=!1,b.defineProperty(a,"classList",g))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",k)}(self);
(function(a){function b(a,b){(c(a,b)?f:h)(a,b)}var c,h,f;"classList"in document.documentElement?(c=function(a,b){return a.classList.contains(b)},h=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(c=function(a,b){return(new RegExp("(^|\\s+)"+b+"(\\s+|$)")).test(a.className)},h=function(a,b){c(a,b)||(a.className=a.className+" "+b)},f=function(a,b){a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")});var e={hasClass:c,addClass:h,removeClass:f,toggleClass:b,
has:c,add:h,remove:f,toggle:b};"function"===typeof define&&define.amd?define(e):"object"===typeof exports?module.exports=e:a.classie=e})(window);window.onpopstate=function(a){a.state&&("menu"==a.state.id?activateMenuFn():(loadCanvas(a.state.id,a.state.title),activateMainFn()))};
window.onload=function(){setXURL(document);var a=getHashID();URLid=getURLid();var b=document.querySelector("#canvas-main"),c=document.querySelector(".toggle-push-left"),h=document.querySelectorAll(".XURL");document.querySelector("#header_button");var f=document.querySelector("#translate-button"),e=document.querySelector("#search-button"),d=document.querySelector("#google_translate_element"),g=document.querySelector("#search_box");a?(curTab="root",loadCanvas(document.getElementById(a))):curTab=URLid?
URLid:"root";"menu"==URLid?(menuActive=!0,classie.add(c,"active"),b.style.maxHeight=document.querySelector("#nav-menu").scrollHeight+"px"):document.querySelector("#nav-menu").style.maxHeight=b.scrollHeight+"px";a||URLid||window.history.replaceState({id:"root"},"","/");c.addEventListener("click",function(){if(menuActive){if("root"==curTab||"menu"==curTab)curTab="";window.history.pushState({id:curTab},"","/"+curTab);activateMainFn();b.style.maxHeight=null;document.querySelector("#nav-menu").style.maxHeight=
b.scrollHeight+"px"}else window.history.pushState({id:"menu"},"","/menu"),activateMenuFn()});f.addEventListener("click",function(){if("undefined"===typeof isTranslateButtonActive){var a=document.createElement("script");a.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";f.parentNode.appendChild(a);isTranslateButtonActive=!1}isTranslateButtonActive?(classie.remove(f,"header-button-active"),classie.add(d,"hide_display"),isTranslateButtonActive=!1):(classie.add(f,"header-button-active"),
classie.remove(d,"hide_display"),isTranslateButtonActive=!0)});e.addEventListener("click",function(){void 0===isSearchButtonActive&&(gcse_init(),isSearchButtonActive=!1);isSearchButtonActive?(classie.remove(e,"header-button-active"),classie.add(g,"hide_display"),isSearchButtonActive=!1):(classie.add(e,"header-button-active"),classie.remove(g,"hide_display"),isSearchButtonActive=!0)});[].forEach.call(document.getElementsByClassName("coming-soon"),function(a){a.addEventListener("click",function(){"undefined"!==
typeof ga&&ga("send","event",{eventCategory:"download",eventAction:"click"});alert("Hold your breath! Coming soon..")})});[].slice.call(h).forEach(function(a,b){a.addEventListener("click",function(){curTab=this.getAttribute("data-target");activateMainFn()})});if(!supportsSvg())for(a=document.getElementsByClassName("image"),h=a.length,c=0;c<h;c++)a[c].classList.add("no-svg");initPageFunction(curTab);return!1};
var initPageFunction=function(a){a=a.replace("/","__");if("function"===typeof window[a])window[a]()},curTab,intrvl=0,gTarget,URLid,menuActive=!1,isTranslateButtonActive,isSearchButtonActive,activateMenuFn=function(){var a=document.querySelector("#nav-menu"),b=document.querySelector("#canvas-main"),c=document.querySelector("#main-wrapper"),h=document.querySelector("#menu-button");classie.add(c,"pml-open");classie.add(h,"active");activeNav="pml-open";b.style.maxHeight=a.scrollHeight+"px";a.style.maxHeight=
null;menuActive=!0;"undefined"!==typeof ga&&(ga("set","page","/menu"),ga("send","pageview"))},transitionFromMenu,activateMainFn=function(){menuActive&&(transitionFromMenu=!0);var a=document.querySelector("#main-wrapper"),b=document.querySelector("#menu-button");classie.remove(a,"pml-open");classie.remove(b,"active");menuActive=!1};function getURLid(){var a=window.location.pathname;return"/"==a?"":a.substring(1)}function getHashID(){var a=window.location.hash;return 0==a.length?"":a.substring(2)}
function setXURL(a){a=getElementsByClassName(a,"XURL");var b=a.length;for(i=0;i<b;i++)a[i].onclick=loadCanvasI}function about_me(){gapi.plus.go("me_g-plus");twttr.widgets.load()}function presentation(){beginLoading()};
