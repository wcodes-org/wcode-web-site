/*
 @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js classie v1.0.1
 class helper functions
 from bonzo https://github.com/ded/bonzo
 MIT license
*/
var $jscomp={scope:{},checkStringArgs:function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in b||(b[g]={});b=b[g]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var g=c.length,e=a.length,h=Math.max(0,Math.min(b|0,c.length)),f=0;f<e&&h<g;)if(c[h++]!=a[f++])return!1;return f>=e}},"es6-impl","es3");var notification_intrvl,init_loading_intrvl,fade_loading_intrvl;function beginLoading(){document.getElementById("wait_loader").classList.remove("hide")}
function stopLoading(){document.getElementById("wait_loader").classList.add("hide")}function initLoading(){clearTimeout(init_loading_intrvl);init_loading_intrvl=setTimeout(function(){beginLoading()},3E3)}function endLoading(){clearTimeout(init_loading_intrvl);clearTimeout(fade_loading_intrvl);stopLoading()}function fadeLoading(){clearTimeout(fade_loading_intrvl);fade_loading_intrvl=setTimeout(function(){stopLoading()},3E3)}
function errorLoading(){document.getElementById("notification").classList.remove("hide");clearTimeout(notification_intrvl);notification_intrvl=setInterval(function(){document.getElementById("notification").classList.add("hide")},3E3)}function fbReload(){try{FB.XFBML.parse()}catch(a){}}
function getElementsByClassName(a,c){if(a.getElementsByClassName)return a.getElementsByClassName(c);var b=a;null==b&&(b=document);var d=[],b=b.getElementsByTagName("*"),g=b.length,e=new RegExp("(^|\\s)"+c+"(\\s|$)"),h,f;for(f=h=0;h<g;h++)e.test(b[h].className)&&(d[f]=b[h],f++);return d}function supportsSvg(){var a=document.createElement("div");a.innerHTML="<svg/>";return"http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)}function loadCanvasI(a){loadCanvasH(this);return!1}
function loadCanvasH(a){var c=a.getAttribute("data-target");URLid="root"==c?"":c;loadCanvas(c,a.getAttribute("data-title"));window.history.pushState({id:c,title:a.getAttribute("data-title")},"","/"+URLid);"undefined"!==typeof ga&&(ga("set","page","/"+URLid),ga("send","pageview"))}
function loadCanvas(a,c){document.getElementById("updated");var b=document.getElementById("canvas-main"),d=document.getElementById("main-wrapper");classie.add(d,"hide_path_title_updated");classie.add(b,"hide");var g=(new Date).getTime();syncScrollReload.startTime=null;scrollTop();initLoading();"root"==a?(classie.add(document.getElementById("path-container"),"hide_scale"),classie.add(document.getElementById("title-container"),"hide_scale")):(classie.remove(document.getElementById("path-container"),
"hide_scale"),classie.remove(document.getElementById("title-container"),"hide_scale"));classie.add(document.getElementById("path"),"hide");classie.add(document.getElementById("title"),"hide");var e=new XMLHttpRequest,e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){if(4==e.readyState&&a===gTarget){var b=document.getElementById("canvas-main");switch(e.status){case 200:endLoading();b=JSON.parse(e.responseText);document.title=b.desc+" - "+
PROJECT_TITLE;"root"==a?updatePathTitle("","&nbsp;"):updatePathTitle(b.path,c);syncScrollReload(g,b,a);break;case 404:document.getElementById("date").innerHTML="";b.innerHTML="Error: 404 - Resource not found!";break;case 408:case 501:case 502:document.getElementById("date").innerHTML="",b.innerHTML="Error!",errorLoading()}}};gTarget=a;e.open("GET","/"+a+".json",!0);e.setRequestHeader("Content-Type","text/plain;charset=UTF-8");e.send()}
function scrollTop(){scrollActive=!0;var a=window.scrollY,c=setInterval(function(){window.scrollTo(0,a);0>=a?(clearInterval(c),scrollActive=!1,syncScrollReload()):a-=100},10)}var scrollActive;
function syncScrollReload(a,c,b){"undefined"!=typeof a&&(syncScrollReload.startTime=a,syncScrollReload.resp=c,syncScrollReload.target=b,activateMainFn());"undefined"==typeof syncScrollReload.startTime||null==syncScrollReload.startTime||scrollActive||executeReload(syncScrollReload.startTime,syncScrollReload.resp,syncScrollReload.target)}
function executeReload(a,c,b){"undefined"!=typeof reloadTimeout&&clearTimeout(reloadTimeout);reloadTimeout=setTimeout(function(){var a=document.getElementById("canvas-main"),g=document.getElementById("main-wrapper");document.getElementById("content").innerHTML=c.content;classie.remove(a,"hide");document.getElementById("date").innerHTML=c.date;""==!URLid&&classie.remove(g,"hide_path_title_updated");a=document.getElementById("canvas-main").scrollHeight;document.getElementById("nav-menu").style.maxHeight=
a+"px";document.getElementById("canvas-main").style.maxHeight=null;setXURL(document);"1"==c.async&&initPageFunction(b);fbReload()},getTimeOutDuration((new Date).getTime()-a))}function getTimeOutDuration(a){timeout=380-a;return 0>timeout?0:timeout}
function updatePathTitle(a,c){setTimeout(function(){document.getElementById("path").innerHTML=a;document.getElementById("title").innerHTML=c;classie.remove(document.getElementById("path"),"hide");classie.remove(document.getElementById("title"),"hide")},300)}
"undefined"===typeof document||"classList"in document.createElement("a")||function(a){a=(a.HTMLElement||a.Element).prototype;var c=Object,b=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},d=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},g=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},e=function(a,b){if(""===b)throw new g("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new g("INVALID_CHARACTER_ERR",
"String contains an invalid character");return d.call(a,b)},h=function(a){for(var c=b.call(a.className),c=c?c.split(/\s+/):[],f=0,d=c.length;f<d;f++)this.push(c[f]);this._updateClassName=function(){a.className=this.toString()}},f=h.prototype=[],l=function(){return new h(this)};g.prototype=Error.prototype;f.item=function(a){return this[a]||null};f.contains=function(a){return-1!==e(this,a+"")};f.add=function(a){a+="";-1===e(this,a)&&(this.push(a),this._updateClassName())};f.remove=function(a){a=e(this,
a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};f.toggle=function(a){a+="";-1===e(this,a)?this.add(a):this.remove(a)};f.toString=function(){return this.join(" ")};if(c.defineProperty){f={get:l,enumerable:!0,configurable:!0};try{c.defineProperty(a,"classList",f)}catch(k){-2146823252===k.number&&(f.enumerable=!1,c.defineProperty(a,"classList",f))}}else c.prototype.__defineGetter__&&a.__defineGetter__("classList",l)}(self);
(function(a){function c(a,c){(b(a,c)?g:d)(a,c)}var b,d,g;"classList"in document.documentElement?(b=function(a,b){return a.classList.contains(b)},d=function(a,b){a.classList.add(b)},g=function(a,b){a.classList.remove(b)}):(b=function(a,b){return(new RegExp("(^|\\s+)"+b+"(\\s+|$)")).test(a.className)},d=function(a,c){b(a,c)||(a.className=a.className+" "+c)},g=function(a,b){a.className=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")});var e={hasClass:b,addClass:d,removeClass:g,toggleClass:c,
has:b,add:d,remove:g,toggle:c};"function"===typeof define&&define.amd?define(e):"object"===typeof exports?module.exports=e:a.classie=e})(window);window.onpopstate=function(a){a.state&&("menu"==a.state.id?activateMenuFn():loadCanvas(a.state.id,a.state.title))};
window.onload=function(){setXURL(document);var a=getHashID();URLid=getURLid();var c=document.querySelector("#canvas-main"),b=document.querySelector(".toggle-push-left"),d=document.querySelectorAll(".XURL");document.querySelector("#header_button");var g=document.querySelector("#translate-button"),e=document.querySelector("#search-button"),h=document.querySelector("#google_translate_element"),f=document.querySelector("#search_box");a?(curTab="root",loadCanvas(document.getElementById(a))):curTab=URLid?
URLid:"root";"menu"==URLid?(menuActive=!0,classie.add(b,"active"),c.style.maxHeight=document.querySelector("#nav-menu").scrollHeight+"px"):document.querySelector("#nav-menu").style.maxHeight=c.scrollHeight+"px";a||URLid||window.history.replaceState({id:"root"},"","/");b.addEventListener("click",function(){if(menuActive){if("root"==curTab||"menu"==curTab)curTab="";window.history.pushState({id:curTab},"","/"+curTab);activateMainFn();c.style.maxHeight=null;document.querySelector("#nav-menu").style.maxHeight=
c.scrollHeight+"px"}else activateMenu()});g.addEventListener("click",function(){if("undefined"===typeof isTranslateButtonActive){var a=document.createElement("script");a.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";g.parentNode.appendChild(a);isTranslateButtonActive=!1}isTranslateButtonActive?(classie.remove(g,"header-button-active"),classie.add(h,"hide_display"),isTranslateButtonActive=!1):(classie.add(g,"header-button-active"),classie.remove(h,"hide_display"),
isTranslateButtonActive=!0)});e.addEventListener("click",function(){void 0===isSearchButtonActive&&(gcse_init(),isSearchButtonActive=!1);isSearchButtonActive?(classie.remove(e,"header-button-active"),classie.add(f,"hide_display"),isSearchButtonActive=!1):(classie.add(e,"header-button-active"),classie.remove(f,"hide_display"),isSearchButtonActive=!0)});[].forEach.call(document.getElementsByClassName("coming-soon"),function(a){a.addEventListener("click",function(){"undefined"!==typeof ga&&ga("send",
"event",{eventCategory:"download",eventAction:"click"});alert("Hold your breath! Coming soon..")})});[].slice.call(d).forEach(function(a,b){a.addEventListener("click",function(){curTab=this.getAttribute("data-target");activateMainFn()})});if(!supportsSvg())for(a=document.getElementsByClassName("image"),d=a.length,b=0;b<d;b++)a[b].classList.add("no-svg");initPageFunction(curTab);return!1};
var initPageFunction=function(a){a=a.replace("/","__");if("function"===typeof window[a])window[a]()},curTab,gTarget,URLid,menuActive=!1,isTranslateButtonActive,isSearchButtonActive,activateMenuFn=function(){var a=document.querySelector("#nav-menu"),c=document.querySelector("#canvas-main"),b=document.querySelector("#main-wrapper"),d=document.querySelector("#menu-button");classie.add(b,"pml-open");classie.add(d,"active");activeNav="pml-open";c.style.maxHeight=a.scrollHeight+"px";a.style.maxHeight=null;
menuActive=!0;"undefined"!==typeof ga&&(ga("set","page","/menu"),ga("send","pageview"))},activateMenu=function(){window.history.pushState({id:curTab},"","/"+curTab);activateMenuFn()},activateMainFn=function(){var a=document.querySelector("#main-wrapper"),c=document.querySelector("#menu-button");classie.remove(a,"pml-open");classie.remove(a,"hide_path_title_updated");classie.remove(c,"active");menuActive=!1},activateMain=function(){window.history.pushState({id:curTab},"","/"+curTab);activateMainFn()};
function getURLid(){var a=window.location.pathname;return"/"==a?"":a.substring(1)}function getHashID(){var a=window.location.hash;return 0==a.length?"":a.substring(2)}function setXURL(a){a=getElementsByClassName(a,"XURL");var c=a.length;for(i=0;i<c;i++)"menu"==a[i].getAttribute("data-target")?a[i].onclick=activateMenu:a[i].onclick=loadCanvasI}function about_me(){gapi.plus.go("me_g-plus");twttr.widgets.load()}function presentation(){beginLoading();fadeLoading()}var wordListWhite=[],wordListBlack=[];
function wordlist(){0==wordListWhite.length&&(wordListWhite=loadWordlistWhite(),initloadWordlistBlack(),word_search_box.addEventListener("input",execSearch),search_input_clear.addEventListener("click",clearWordListSearch))}function clearWordListSearch(){word_search_box.value="";setWordList(null,!0);document.getElementById("wordlist-table-black").innerText="";document.getElementById("wordlist-table-separator").classList.add("hide");classie.add(search_input_clear,"hide")}
function loadWordlistWhite(){for(var a=[],c=document.getElementById("wordlist-table").getElementsByClassName("primary"),b=0;b<c.length;b++)a[c[b].firstChild.innerText]=getSecondary(c[b]);return a}function loadWordlistBlack(a){a=a.split("\n");for(var c=[],b=1;b<a.length;b++){var d=a[b].split("\t");0<d[3].length&&c.push(d[3])}wordListBlack.Discarded=[];wordListBlack.Discarded["*"]=c}
function initloadWordlistBlack(){var a=new XMLHttpRequest;a.overrideMimeType("text/pain");a.open("GET","/wordlist-black.tsv",!0);a.onreadystatechange=function(){4==a.readyState&&"200"==a.status&&loadWordlistBlack(a.responseText)};a.send(null)}function getSecondary(a){var c=[];a=a.getElementsByClassName("secondary");for(var b=0;b<a.length;b++)c[a[b].firstChild.innerText]=getWords(a[b]);return c}
function getWords(a){var c=[];a=a.getElementsByTagName("span");for(var b=0;b<a.length;b++)c[b]=a[b].innerText;return c}
function setWordList(a,c){var b,d;c?(b="wordlist-table-white",d=wordListWhite):(b="wordlist-table-black",d=wordListBlack);var g=document.createElement("div"),e;for(e in d){var h=document.createElement("div");h.setAttribute("class","primary");var f=document.createElement("div");f.innerText=e;h.appendChild(f);var f=!1,l;for(l in d[e]){var k=document.createElement("div");k.setAttribute("class","secondary");var m=document.createElement("div");m.innerText=l;k.appendChild(m);var m=document.createElement("div"),
n;n=null!=a?matchWord(d[e][l],a):d[e][l];for(var q in n){var p=document.createElement("span");p.innerText=n[q];m.appendChild(p)}k.appendChild(m);h.appendChild(k);0==n.length?k.classList.add("hide_display"):(k.classList.remove("hide_display"),f=!0)}f?h.classList.remove("hide_display"):h.classList.add("hide_display");g.appendChild(h)}g.setAttribute("id",b);document.getElementById(b).replaceWith(g)}var bSearch_selected=!1;
function execSearch(a){a=word_search_box.value.toLowerCase();if(0==a.length)classie.add(search_input_clear,"hide");else{if(" "==a[a.length-1]){bSearch_selected?(bSearch_selected=!1,clearWordListSearch()):(word_search_box.value=a.substring(0,a.length-1),word_search_box.select(),bSearch_selected=!0);return}classie.remove(search_input_clear,"hide");bSearch_selected=!1}setWordList(a,!0);document.getElementById("wordlist-table-separator").classList.remove("hide");setWordList(a,!1)}
function matchWord(a,c){var b=new RegExp(c.split("").join("\\w*").replace(/\W/,""),"i");return a.filter(function(a){if(a.match(b)&&a.startsWith(c))return a})};
